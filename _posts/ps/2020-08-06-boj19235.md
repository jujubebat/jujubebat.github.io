---
title:  "[ë°±ì¤€] ëª¨ë…¸ë¯¸ë…¸ë„ë¯¸ë…¸"
excerpt: "[ë°±ì¤€] ëª¨ë…¸ë¯¸ë…¸ë„ë¯¸ë…¸ C++ ë¬¸ì œí’€ì´"
toc: true
toc_sticky: true
categories:
  - ps
tags:
  - ë°±ì¤€
  - ì‹œë®¬ë ˆì´ì…˜
#last_modified_at: 2019-04-13T08:06:00-05:00
---

## âœ”ï¸ ë¬¸ì œ  
* [ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/19235)
* 2020 ìƒë°˜ê¸° ì‚¼ì„±ì „ì SW ì—­ëŸ‰í…ŒìŠ¤íŠ¸ ê¸°ì¶œ ë¬¸ì œë‹¤.



## âœ”ï¸ ë¬¸ì œ ì´í•´

* 



## âœ”ï¸ ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„

* 

## âœ”ï¸ ìƒì„¸ êµ¬í˜„ ì„¤ëª…

* .



## ğŸ‘¨ğŸ»â€ğŸ’» ì†ŒìŠ¤ ì½”ë“œ

```cpp
#include<iostream>
#include<unordered_map>
using namespace std;

int map[10][10];
int num = 1;
const int dx[] = { -1,1 }, dy[] = { -1,1 };
unordered_map<int, int> blockInfo; // <ë¸”ë¡ë²ˆí˜¸, ë¸”ë¡ì¢…ë¥˜>
// ë¸”ë¡ ì¢…ë¥˜
// 0 : í•œ ê°œ ì§œë¦¬
// 1 : ì„¸ë¡œ
// 2 : ê°€ë¡œ

int greenMove(int t, int x, int y) { // ì´ˆë¡ë¶€ë¶„ ì´ë™ ì‹œë®¬ë ˆì´ì…˜
	int score = 0;

	// ë¹¨ê°„ ì˜ì—­ì— ë¸”ë¡ì„ ë†“ì€ ê¸°ì¤€ìœ¼ë¡œ ë¸”ë¡ì„ ë–¨ì–´ëœ¨ë¦¬ëŠ” ì‹œë®¬ë ˆì´ì…˜
	if (t == 1) {
		while (1) {
			if (x + 1 > 9 || map[x + 1][y]) {
				map[x][y] = num;
				blockInfo[num++] = 0;
				break;
			}
			x++;
		}
	}
	else if (t == 2) {
		while (1) {
			if (x + 1 > 9 || map[x + 1][y] || map[x + 1][y + 1]) {
				map[x][y] = num, map[x][y + 1] = num;
				blockInfo[num++] = 2;
				break;
			}
			x++;
		}
	}
	else if (t == 3) {
		while (1) {
			if (x + 2 > 9 || map[x + 2][y]) {
				map[x][y] = num, map[x + 1][y] = num;
				blockInfo[num++] = 1;
				break;
			}
			x++;
		}
	}

	// í–‰ì— ë¸”ë¡ì´ ê½‰ì°¬ê²½ìš° ì§€ìš°ê³ , ë–¨ì–´ëœ¨ë¦¬ëŠ” ì‹œë®¬ë ˆì´ì…˜
	bool isfall = true;
	while (isfall) {
		isfall = false;

		for (int r = 9; r >= 4; r--) {
			bool flag = true;
			for (int c = 0; c < 4; c++) {
				if (map[r][c] == 0) {
					flag = false;
					break;
				}
			}

			if (flag) { // í–‰ì— ë¸”ë¡ì´ 4ì¹¸ ì°¨ì§€í•´ì„œ ê½‰ì°¼ë‹¤ë©´ 
				isfall = true;
				score++;

				for (int c = 0; c < 4; c++) { // í–‰ì„ ì§€ìš´ë‹¤.
					// ë§Œì•½ ì„¸ë¡œ ë¸”ë¡ì´ ìˆìœ¼ë©´ ë‚±ê°œ ë¸”ë¡ìœ¼ë¡œ ì •ë³´ë¥¼ ê°±ì‹ í•œë‹¤.
					// (í–‰ì„ ì§€ì›€ìœ¼ë¡œì¨ ì˜ë¼ì¡Œìœ¼ë¯€ë¡œ)
					if (blockInfo[map[r][c]] == 1) {
						blockInfo[map[r][c]] = 0;
					}
					map[r][c] = 0;
				}
			}
		}

		// ë¸”ë¡ì„ ì§€ìš°ëŠ” ì‹œë®¬ë ˆì´ì…˜
		for (int col = 0; col < 4; col++) {
			for (int row = 9; row >= 4; row--) {
				if (map[row][col]) {
					// ë‚±ê°œ ë˜ëŠ” ì„¸ë¡œ ë¸”ë¡ì¸ ê²½ìš°, ë‚±ê°œ ë‹¨ìœ„ë¡œ ë¸”ë¡ì„ ë–¨ì–´ëœ¨ë ¤ë„ ë¬´ë°©í•˜ë‹¤.
					if (blockInfo[map[row][col]] == 0 || blockInfo[map[row][col]] == 1) {
						int start = row;
						while (1) {
							if (start >= 9 || map[start + 1][col]) break;
							if (!map[start + 1][col]) {
								swap(map[start][col], map[start + 1][col]);
							}
							start++;
						}
					}
					// ê°€ë¡œ ë¸”ë¡ì¸ ê²½ìš°, 2x1 ë‹¨ìœ„ë¡œ ë¸”ë¡ì„ ë–¨ì–´ëœ¨ë ¤ì•¼í•œë‹¤.
					else if (blockInfo[map[row][col]] == 2) {
						int start = row;
						int ny;

						// 2x1ì„ êµ¬ì„±í•˜ëŠ” ë‹¤ë¥¸ ë‚±ê°œ ë¸”ë¡ì„ êµ¬í•˜ëŠ” ë¡œì§
						for (int i = 0; i < 4; i++) {
							ny = col + dy[i];
							if (ny >= 4 || ny < 0) continue;
							if (ny != col && map[start][ny] == map[row][col]) {
								break;
							}
						}
						while (1) { // 2x1 ë‹¨ìœ„ë¡œ ë¸”ë¡ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤.

							// 2x1 ë¸”ë¡ì„ êµ¬ì„±í•˜ëŠ” ì‘ì€ ë‚±ê°œ ë¸”ë¡ì¤‘ í•˜ë‚˜ë¼ë„
							// ë²½ ë˜ëŠ” ë°”ë‹¥ì— ë‹¿ìœ¼ë©´ ë–¨ì–´ëœ¨ë¦¬ëŠ” ê²ƒì„ ë©ˆì¶˜ë‹¤.
							if (start >= 9 || map[start + 1][col]) break;
							if (start >= 9 || map[start + 1][ny]) break;

							swap(map[start][col], map[start + 1][col]);
							swap(map[start][ny], map[start + 1][ny]);
							start++;
						}
					}
				}
			}
		}
	}

	// ì—°í•œ ì´ˆë¡ ë¶€ë¶„ì— ë¸”ë¡ì´ ì¡´ì¬í•  ê²½ìš° ì²˜ë¦¬í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜
	int count = 0;

	//ì—°í•œ ì´ˆë¡ ë¶€ë¶„ì— ë¸”ë¡ì´ ëª‡ ê°œì˜ í–‰ì— ì¡´ì¬í•˜ëŠ”ì§€ ê²€ì‚¬í•œë‹¤.
	for (int r = 4; r <= 5; r++) {
		bool flag = false;
		for (int c = 0; c < 4; c++) {
			if (map[r][c]) {
				flag = true;
				break;
			}
		}
		if (flag) count++;
	}

	// ì—°í•œ ì´ˆë¡ ë¶€ë¶„ì— ë¸”ë¡ì´ ì¡´ì¬í•˜ëŠ” í–‰ì´ 1ê°œì¼ë•Œ
	if (count == 1) {

		// ë§¨ ì•„ë˜ìª½ ì—´ 1ê°œë¥¼ ì§€ìš°ê³ 
		for (int c = 0; c < 4; c++) {
			map[9][c] = 0;
		}

		// ë¸”ë¡ë“¤ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤.
		for (int r = 8; r >= 4; r--) {
			for (int c = 0; c < 4; c++) {
				map[r + 1][c] = map[r][c];
				map[r][c] = 0;
			}
		}
	}
	// ì—°í•œ ì´ˆë¡ ë¶€ë¶„ì— ë¸”ë¡ì´ ì¡´ì¬í•˜ëŠ” í–‰ì´ 2ê°œì¼ë•Œ
	else if (count == 2) {

		//ë§¨ ì•„ë˜ìª½ ì—´ 2ê°œë¥¼ ì§€ìš°ê³ 
		for (int c = 0; c < 4; c++) {
			map[9][c] = 0;
			map[8][c] = 0;
		}

		// ë¸”ë¡ë“¤ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤.
		for (int r = 7; r >= 4; r--) {
			for (int c = 0; c < 4; c++) {
				map[r + 2][c] = map[r][c];
				map[r][c] = 0;
			}
		}
	}

	// ì´ë²ˆ ì‹œë®¬ë ˆì´ì…˜ì— ëŒ€í•œ ì ìˆ˜ê²°ê³¼ ë°˜í™˜
	return score;
}

int blueMove(int t, int x, int y) {

	int score = 0;

	if (t == 1) {
		while (1) {
			if (y + 1 > 9 || map[x][y + 1]) {
				map[x][y] = num;
				blockInfo[num++] = 0;
				break;
			}
			y++;
		}
	}
	else if (t == 2) {
		while (1) {
			if (y + 2 > 9 || map[x][y + 2]) {
				map[x][y] = num, map[x][y + 1] = num;
				blockInfo[num++] = 1;
				break;
			}
			y++;
		}
	}
	else if (t == 3) {
		while (1) {
			if (y + 1 > 9 || map[x][y + 1] || map[x + 1][y + 1]) {
				map[x][y] = num, map[x + 1][y] = num;
				blockInfo[num++] = 2;
				break;
			}
			y++;
		}
	}
	bool f = true;

	while (f) {
		f = false;
		for (int c = 9; c >= 4; c--) {
			bool flag = true;

			for (int r = 0; r < 4; r++) {
				if (map[r][c] == 0) {
					flag = false;
					break;
				}
			}

			if (flag) {
				f = true;
				score++;

				for (int r = 0; r < 4; r++) {
					if (blockInfo[map[r][c]] == 1) {
						blockInfo[map[r][c]] = 0;
					}
					map[r][c] = 0;
				}
				c = 10;
			}
		}

		for (int row = 0; row < 4; row++) {
			for (int col = 9; col >= 4; col--) {

				if (map[row][col]) {

					if (blockInfo[map[row][col]] == 0 || blockInfo[map[row][col]] == 1) { //ì„¸ë¡œ ë˜ëŠ” ë‚±ê°œì¸ ê²½ìš°
						int start = col;


						while (1) {
							if (start >= 9 || map[row][start + 1]) break;
							if (!map[row][start + 1]) {
								swap(map[row][start], map[row][start + 1]);
							}
							start++;
						}
					}
					else if (blockInfo[map[row][col]] == 2) {

						int start = col;
						int nx;

						for (int i = 0; i < 4; i++) {
							nx = row + dx[i];
							if (nx >= 4 || nx < 0) continue;
							if (nx != row && map[nx][start] == map[row][col]) {
								break;
							}
						}
						while (1) {
							if (start >= 9 || map[row][start + 1]) break;
							if (start >= 9 || map[nx][start + 1]) break;

							swap(map[row][start], map[row][start + 1]);
							swap(map[nx][start], map[nx][start + 1]);
							start++;
						}
					}
				}
			}
		}
	}

	int count = 0;

	for (int c = 4; c <= 5; c++) {
		bool flag = false;
		for (int r = 0; r < 4; r++) {
			if (map[r][c]) {
				flag = true;
				break;
			}
		}
		if (flag) count++;
	}

	if (count == 1) {
		for (int r = 0; r < 4; r++) {
			map[r][9] = 0;
		}

		for (int c = 8; c >= 4; c--) {
			for (int r = 0; r < 4; r++) {
				map[r][c + 1] = map[r][c];
				map[r][c] = 0;
			}
		}

	}
	else if (count == 2) {
		for (int r = 0; r < 4; r++) {
			map[r][9] = 0;
			map[r][8] = 0;
		}

		for (int c = 7; c >= 4; c--) {
			for (int r = 0; r < 4; r++) {
				map[r][c + 2] = map[r][c];
				map[r][c] = 0;
			}
		}
	}

	return score;
}

int move(int t, int x, int y) { // ë„ë¯¸ë…¸ ë¸”ë¡ ì´ë™ ì‹œë®¬ë ˆì´ì…˜ 
	int score = 0;
	score += greenMove(t, x, y); // ì´ˆë¡ ë¶€ë¶„ ì´ë™ ì‹œë®¬ë ˆì´ì…˜
	score += blueMove(t, x, y); // íŒŒë€ ë¶€ë¶„ ì´ë™ ì‹œë®¬ë ˆì´ì…˜
	return score;
}

int main() {
	int score = 0;
	int count = 0;
	int n;

	cin >> n;

	for (int i = 0; i < n; i++) {
		int t, x, y;
		cin >> t >> x >> y; // ë¸”ë¡ì •ë³´ë¥¼ ì…ë ¥ë°›ì„ë•Œë§ˆë‹¤
		score += move(t, x, y); //ë„ë¯¸ë…¸ë¥¼ ì§„í–‰ì‹œí‚¤ê³  ì ìˆ˜ë¥¼ ì–»ëŠ”ë‹¤.
	}

	cout << score << endl; // ìµœì¢… ì ìˆ˜ ì¶œë ¥

	for (int i = 0; i < 10; i++) {  // ë¸”ë¡ì´ ì°¨ì§€í•˜ëŠ” mapì˜ í¬ê¸° ê³„ì‚°
		for (int j = 0; j < 10; j++) {
			if (map[i][j]) count++;
		}
	}

	cout << count << endl; // ë¸”ë¡ì´ ì°¨ì§€í•˜ëŠ” mapì˜ í¬ê¸° ì¶œë ¥

	return 0;
}
```



## âœ”ï¸ ë¬¸ì œ íšŒê³ 

* BFS ë‘ ê°œë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ëŠ” ë¬¸ì œë‹¤. ë¬¸ì œ ì¡°ê±´ì— ë”°ë¼ êµ¬í˜„í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œì˜€ë‹¤.
* ë³µì¡í•  ìˆ˜ ìˆëŠ” ë¬¸ì œ ì¡°ê±´ì„ í•˜ë‚˜í•˜ë‚˜ íŒŒì•…í•˜ê³  ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•´ì•¼í•œë‹¤.
* `set` ë˜ëŠ” `map`ì„ ì‚¬ìš©í• ë•Œ key ê°’ìœ¼ë¡œ êµ¬ì¡°ì²´ë¥¼ ë„£ëŠ” ê²½ìš° êµ¬ì¡°ì²´ ìš°ì„ ìˆœìœ„ ê²°ì •ì„ ìœ„í•œ ë¹„êµí•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë„£ì–´ì¤˜ì•¼í•œë‹¤. ìš°ì„ ìˆœìœ„ ê¸°ì¤€ì„ ì•Œë ¤ì¤˜ì•¼ êµ¬ì¡°ì²´ë¥¼ `set`, `map` ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.