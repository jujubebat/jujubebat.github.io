---
title:  "[Computer Network] HTTPS"
excerpt: "[Computer Network] HTTPS 정리"
toc: true
toc_sticky: true
categories:
  - cs
tags:
  - Computer Network
---

# 📝**HTTPS**   

`"HTTPS는 주고 받는 모든 메세지를 암호화한다. SSL위에서 동작하는 HTTP 프로토콜이며 공개키와 대칭키 암호화 방식을 사용한다."`



## 📌 HTTP의 보안 문제

* HTTP는 단순 텍스트로 메세지를 교환하기 때문에 도청이 가능하다(암호화 기능이 없음)
* 따라서 누군가 패킷을 가로채서 메세지 내용을 볼 수 있다.
* 보안이 필요한 경우 HTTPS를 사용하면 된다.



## 📌 HTTPS(Hypertext Transfer Protocol over Secure Socket Layer)
![](../../../assets/images/2020-07-13-10-35-49.png)
* HTTPS를 사용하면 모든 HTTP 요청, 응답 메세지는 네트워크로 보내지기 전에 암호화 된다.
* HTTPS는 SSL 또는 TLS 프로토콜 위에서 돌아가는 프로토콜이다.
* SSL과 TLS는 같은말이다. 네스케이프에 의해 SSL이 발명되었고 널리 사용되다가 표준화 기구 IETF의 관리로 변경되며 TLS란 이름으로 바뀌었다.
* SSL은 **대칭키 암호화**와 **공개키 암호화**를 사용한다.

  * 대칭키 암호화 
    * 암호화와 복호화에 사용되는 키카 같다.
  * 공개키 암호화 
    * 공개키로 암호화하면 개인키로 복호화할 수 있다. (데이터 보안에 중점을 두는 경우)
    * 개인키로 암호화하면 공개키로 복호화할 수 있다. (인증과정에 중점을 두는 경우)
* 보안을 위해 사용하는대칭키를 생성 및 교환하는 과정이 필요하다. 이를 **SSL Handshake** 라고 한다.
### SSL Handshake

- SSL Handshake의 핵심은 비대칭키를 이용한 인증과정을 통해 서로 공유하는 대칭키를 생성하는 것이다.
- 이 과정에서 Certificate Authority(CA)를 통해 서버의 공개키를 확인하게 되고 증명된 사이트의 경우 공개키 서명방식을 이용해 서로 인증하게 된다.



## 📌 HTTPS 동작 과정

![](../../../assets/images/2020-07-13-11-36-10.png)

1. 웹 사이트는 인증기관에게 웹 사이트 정보와 공개키를 주면서 인증 요청을 한다. 

2. 인증기관의 검증을 거친 후 웹 사이트 정보와 웹 사이트의 공개키를 인증 기관의 개인키로 암호화하여 인증서를 만든다.

3. 인증기관은 인증서의 공개키를 브라우저에게 제공하고, 웹 사이트에게 인증서를 발급한다.

4. 브라우저가 웹 사이트에 접속 요청을 하면, 웹 사이트는 발급받은 인증서를 브라우저에게 전달한다.

5. 브라우저는 인증서의 공개키로 인증서를 복호화하여 웹 사이트 정보와 공개키를 획득한다.

6. 획득한 웹 사이트 공개키로 대칭키를 암호화해서 전송한다.

7. 웹 사이트는 개인키로 복호화 하여 대칭키를 얻는다. 

8. 안전하게 전달된 대칭키로 데이터를 주고 받는다.

   

# **🕶 참조**

* https://goodgid.github.io/HTTPS-Used-In-Practice/

* https://brunch.co.kr/@artiveloper/24   